import{k as e,d as W,b as G,$ as i,f as ue}from"./index-BeIH9SCz.js";import{u as H,Q as P,a as j}from"./antDesign-CdRSJcA9.js";import{d as X,f as b,W as E,X as l,a0 as h,k as a,Z as n,u as o,a1 as c,F as S,a7 as $,a3 as oe,a5 as g,r as Q,h as ie,c as re,G as r,Y as p,a8 as D,g as _e}from"./vue-CuEiQHfR.js";import{l as le,e as de,a as me}from"./server-SCaZs1AQ.js";import"./echarts-DSOc99Qa.js";const F=[],pe=Object.assign({"../../assets/icons/403.svg":()=>e(()=>import("./403-0vUlY3ix.js"),[]),"../../assets/icons/404.svg":()=>e(()=>import("./404-CC0E9Knm.js"),[]),"../../assets/icons/bug.svg":()=>e(()=>import("./bug-10dePVta.js"),[]),"../../assets/icons/build.svg":()=>e(()=>import("./build-2jMyI6eP.js"),[]),"../../assets/icons/button.svg":()=>e(()=>import("./button-BlSCM_GH.js"),[]),"../../assets/icons/cascader.svg":()=>e(()=>import("./cascader-CXIOcY1C.js"),[]),"../../assets/icons/chart.svg":()=>e(()=>import("./chart-BsLMrzXU.js"),[]),"../../assets/icons/checkbox.svg":()=>e(()=>import("./checkbox-Bpiun3bf.js"),[]),"../../assets/icons/clipboard.svg":()=>e(()=>import("./clipboard-DaV3cn7f.js"),[]),"../../assets/icons/code.svg":()=>e(()=>import("./code-DgJ8cT4a.js"),[]),"../../assets/icons/color.svg":()=>e(()=>import("./color-y1Sshoou.js"),[]),"../../assets/icons/component.svg":()=>e(()=>import("./component-Djp9s69L.js"),[]),"../../assets/icons/dashboard.svg":()=>e(()=>import("./dashboard-Dy7qt_a2.js"),[]),"../../assets/icons/date-range.svg":()=>e(()=>import("./date-range-B8MgYLb1.js"),[]),"../../assets/icons/date.svg":()=>e(()=>import("./date-B1FSITvi.js"),[]),"../../assets/icons/dict.svg":()=>e(()=>import("./dict-Bi_GqSXR.js"),[]),"../../assets/icons/documentation.svg":()=>e(()=>import("./documentation-uH9BvL5U.js"),[]),"../../assets/icons/download.svg":()=>e(()=>import("./download-DeIzgQWH.js"),[]),"../../assets/icons/drag.svg":()=>e(()=>import("./drag-BG1_I1vT.js"),[]),"../../assets/icons/druid.svg":()=>e(()=>import("./druid-BybW_S_B.js"),[]),"../../assets/icons/edit.svg":()=>e(()=>import("./edit-D0DI9pAq.js"),[]),"../../assets/icons/education.svg":()=>e(()=>import("./education-47KsSYIl.js"),[]),"../../assets/icons/email.svg":()=>e(()=>import("./email-Dig28Vt2.js"),[]),"../../assets/icons/example.svg":()=>e(()=>import("./example-CnLLAFb9.js"),[]),"../../assets/icons/excel.svg":()=>e(()=>import("./excel-D3hj5F35.js"),[]),"../../assets/icons/exit-fullscreen.svg":()=>e(()=>import("./exit-fullscreen-dXhGKlQm.js"),[]),"../../assets/icons/eye-open.svg":()=>e(()=>import("./eye-open-BxlshWqB.js"),[]),"../../assets/icons/eye.svg":()=>e(()=>import("./eye-DqRz4sMZ.js"),[]),"../../assets/icons/form.svg":()=>e(()=>import("./form-BDTA_i-I.js"),[]),"../../assets/icons/fullscreen.svg":()=>e(()=>import("./fullscreen-0JHt5yWX.js"),[]),"../../assets/icons/github.svg":()=>e(()=>import("./github-AJ0WQBa2.js"),[]),"../../assets/icons/guide.svg":()=>e(()=>import("./guide-DZWUPi2j.js"),[]),"../../assets/icons/icon.svg":()=>e(()=>import("./icon-BtMv6Od8.js"),[]),"../../assets/icons/input.svg":()=>e(()=>import("./input-BJoPMnBW.js"),[]),"../../assets/icons/international.svg":()=>e(()=>import("./international-CmzG1OHg.js"),[]),"../../assets/icons/job.svg":()=>e(()=>import("./job-BcmuINx7.js"),[]),"../../assets/icons/language.svg":()=>e(()=>import("./language-CaW1LMEk.js"),[]),"../../assets/icons/link.svg":()=>e(()=>import("./link-C93f4PgI.js"),[]),"../../assets/icons/list.svg":()=>e(()=>import("./list-C7O8B4zW.js"),[]),"../../assets/icons/lock.svg":()=>e(()=>import("./lock-Bexeb9hp.js"),[]),"../../assets/icons/log.svg":()=>e(()=>import("./log-CF2F-nSs.js"),[]),"../../assets/icons/logininfor.svg":()=>e(()=>import("./logininfor-Bm9ZYYR7.js"),[]),"../../assets/icons/message.svg":()=>e(()=>import("./message-UkR-VIBB.js"),[]),"../../assets/icons/money.svg":()=>e(()=>import("./money-B1qqPuhn.js"),[]),"../../assets/icons/monitor.svg":()=>e(()=>import("./monitor-gwnnVq4l.js"),[]),"../../assets/icons/nested.svg":()=>e(()=>import("./nested-B4d5u3hW.js"),[]),"../../assets/icons/number.svg":()=>e(()=>import("./number-D4hB_nHC.js"),[]),"../../assets/icons/online.svg":()=>e(()=>import("./online-C2ZP8pdY.js"),[]),"../../assets/icons/password.svg":()=>e(()=>import("./password-DfGvqQpB.js"),[]),"../../assets/icons/pdf.svg":()=>e(()=>import("./pdf-CD9mOGjJ.js"),[]),"../../assets/icons/people.svg":()=>e(()=>import("./people-CdGMHN63.js"),[]),"../../assets/icons/peoples.svg":()=>e(()=>import("./peoples-BRYsIqmI.js"),[]),"../../assets/icons/phone.svg":()=>e(()=>import("./phone-BpAUIz0g.js"),[]),"../../assets/icons/post.svg":()=>e(()=>import("./post-DrLDyPY9.js"),[]),"../../assets/icons/qq.svg":()=>e(()=>import("./qq-D8j4O83Y.js"),[]),"../../assets/icons/question.svg":()=>e(()=>import("./question-CvYWQbyW.js"),[]),"../../assets/icons/radio.svg":()=>e(()=>import("./radio-B0t9wPBQ.js"),[]),"../../assets/icons/rate.svg":()=>e(()=>import("./rate-CgnHQvKS.js"),[]),"../../assets/icons/redis-list.svg":()=>e(()=>import("./redis-list-BtKGPnqO.js"),[]),"../../assets/icons/redis.svg":()=>e(()=>import("./redis-D4ECyT6a.js"),[]),"../../assets/icons/row.svg":()=>e(()=>import("./row-CRXKIHjm.js"),[]),"../../assets/icons/search.svg":()=>e(()=>import("./search-CUfclCsR.js"),[]),"../../assets/icons/select.svg":()=>e(()=>import("./select-DhuHHMxz.js"),[]),"../../assets/icons/server.svg":()=>e(()=>import("./server-unS7EyF7.js"),[]),"../../assets/icons/shopping.svg":()=>e(()=>import("./shopping-CU1IRvxM.js"),[]),"../../assets/icons/size.svg":()=>e(()=>import("./size-Cj9fB5Rp.js"),[]),"../../assets/icons/skill.svg":()=>e(()=>import("./skill-B8f_I4m_.js"),[]),"../../assets/icons/slider.svg":()=>e(()=>import("./slider-BGfehM6X.js"),[]),"../../assets/icons/star.svg":()=>e(()=>import("./star-kST8a72V.js"),[]),"../../assets/icons/swagger.svg":()=>e(()=>import("./swagger-BHGXZ2Jt.js"),[]),"../../assets/icons/switch.svg":()=>e(()=>import("./switch-CvaargRJ.js"),[]),"../../assets/icons/system.svg":()=>e(()=>import("./system-DcNSH_Fq.js"),[]),"../../assets/icons/tab.svg":()=>e(()=>import("./tab-nA3f0aBt.js"),[]),"../../assets/icons/table.svg":()=>e(()=>import("./table-5PRh60AQ.js"),[]),"../../assets/icons/textarea.svg":()=>e(()=>import("./textarea-CJWXlgbJ.js"),[]),"../../assets/icons/theme.svg":()=>e(()=>import("./theme-CyGq941x.js"),[]),"../../assets/icons/time-range.svg":()=>e(()=>import("./time-range-D3dxgtLj.js"),[]),"../../assets/icons/time.svg":()=>e(()=>import("./time-BVERp0sU.js"),[]),"../../assets/icons/tool.svg":()=>e(()=>import("./tool-D8kXk1l-.js"),[]),"../../assets/icons/tree-table.svg":()=>e(()=>import("./tree-table-CnOS99I9.js"),[]),"../../assets/icons/tree.svg":()=>e(()=>import("./tree-BCtS3oPD.js"),[]),"../../assets/icons/upload.svg":()=>e(()=>import("./upload-BueI-Il1.js"),[]),"../../assets/icons/user.svg":()=>e(()=>import("./user-DqMuW5cU.js"),[]),"../../assets/icons/validCode.svg":()=>e(()=>import("./validCode-COB1iLxa.js"),[]),"../../assets/icons/wechat.svg":()=>e(()=>import("./wechat-lmQOcPZu.js"),[]),"../../assets/icons/zip.svg":()=>e(()=>import("./zip-DIOSZc69.js"),[])});for(const V in pe){const w=V.split("assets/icons/")[1].split(".svg")[0];F.push(w)}const ce={class:"icon-body"},ve={class:"icon-list"},fe={class:"list-container"},Ee=["onClick"],ge=X({__name:"index",props:{activeIcon:{type:String}},emits:["selected"],setup(V,{expose:w,emit:U}){const A=b(""),L=b(F),k=U;function _(){L.value=F,A.value&&(L.value=F.filter(T=>T.indexOf(A.value)!==-1))}function q(T){k("selected",T),document.body.click()}function R(){A.value="",L.value=F}return w({reset:R}),(T,C)=>{const s=E("a-input"),M=W;return l(),h("div",ce,[a(s,{value:A.value,"onUpdate:value":C[0]||(C[0]=f=>A.value=f),class:"icon-search",allowClear:"",placeholder:"请输入图标名称",onClear:_,onInput:_},{prefix:n(()=>[a(o(H))]),_:1},8,["value"]),c("div",ve,[c("div",fe,[(l(!0),h(S,null,$(L.value,(f,B)=>(l(),h("div",{class:"icon-item-wrapper",key:B,onClick:N=>q(f)},[c("div",{class:oe(["icon-item",{active:V.activeIcon===f}])},[a(M,{name:f,style:{height:"25px",width:"16px"}},null,8,["name"]),c("span",null,g(f),1)],2)],8,Ee))),128))])])])}}}),Te=G(ge,[["__scopeId","data-v-17c9015c"]]),Ie={class:"modal-wrapper",ref:"mymodal"},De={class:"ub"},Oe=X({__name:"formModel",props:{show:{type:Boolean,default:!1},status:{type:String,default:"add"},curData:{type:Object,default:()=>{}},sysNormalDisable:{type:Array,default:()=>[]}},emits:["update:show","success"],setup(V,{emit:w}){const{proxy:U}=_e(),{sys_show_hide:A,sys_normal_disable:L}=U.useDict("sys_show_hide","sys_normal_disable"),k=w,_=V,q=b(),R=b(),T=b(!1),C=b([]),s=Q({menuId:"",parentId:0,menuName:"",menuType:"M",icon:"",orderNum:0,isFrame:"1",path:"",component:"",perms:"",query:"",visible:"0",isCache:"0",status:"0"}),M=()=>{s.menuId="",s.parentId=0,s.menuName="",s.menuType="M",s.icon="",s.orderNum=0,s.isFrame="1",s.path="",s.component="",s.perms="",s.query="",s.isCache="0",s.visible="0",s.status="0"},f=Q({parentId:[{required:!0,message:i("selectTips"),trigger:["blur","change"]}],menuName:[{required:!0,message:i("inputTips"),trigger:"blur"}],orderNum:[{required:!0,message:i("inputTips"),trigger:"blur"}],path:[{required:!0,message:i("inputTips"),trigger:"blur"}]});ie(()=>{_.show&&_.status==="edit"&&(s.menuId=_.curData.menuId,s.parentId=_.curData.parentId,s.menuName=_.curData.menuName,s.menuType=_.curData.menuType,s.icon=_.curData.icon,s.orderNum=_.curData.orderNum,s.isFrame=_.curData.isFrame,s.path=_.curData.path,s.component=_.curData.component,s.perms=_.curData.perms,s.query=_.curData.query,s.isCache=_.curData.isCache,s.visible=_.curData.visible,s.status=_.curData.status)}),(async()=>{const m=await le();if((m==null?void 0:m.code)===200){const t=m.data.map(d=>(d.menuName&&(d.menuName=i(d.menuName)),d)),v={menuId:0,menuName:i("fly.menu.main.category"),children:[]};v.children=U.handleTree(t,"menuId"),C.value.push(v)}})();const N=re({get(){return _.show},set(m){k("update:show",m)}});function z(){R==null||R.value.reset(),T.value=!0}function Y(m){s.icon=m,T.value=!1}const Z=()=>{M()},J=async()=>{q.value.validate().then(async()=>{var t;const m={parentId:s.parentId,menuName:s.menuName,orderNum:s.orderNum,menuType:s.menuType,icon:s.icon,isFrame:s.isFrame,path:s.path,component:s.component,perms:s.perms,query:s.query,visible:s.visible,isCache:s.isCache,status:s.status};if(_.status==="edit"){m.menuId=(t=_==null?void 0:_.curData)==null?void 0:t.menuId;const v=await de(m);(v==null?void 0:v.code)===200&&(N.value=!1,j.success(i("opeateSuccess")),k("success"))}else{const v=await me(m);(v==null?void 0:v.code)===200&&(N.value=!1,j.success(i("opeateSuccess")),k("success"))}}).catch(m=>{})};return(m,t)=>{const v=E("a-tree-select"),d=E("a-form-item"),I=E("a-radio"),x=E("a-radio-group"),K=W,y=E("a-input"),ee=E("a-popover"),se=E("a-input-number"),O=E("a-tooltip"),te=E("a-form"),ne=ue,ae=E("a-modal");return l(),h("div",Ie,[a(ae,{destroyOnClose:"",getContainer:()=>m.$refs.mymodal,open:N.value,"onUpdate:open":t[14]||(t[14]=u=>N.value=u),title:V.status==="add"?o(i)("opts.add"):o(i)("opts.edit"),width:"700px",cancelText:o(i)("opts.cancel"),okText:o(i)("opts.sure"),afterClose:Z,onOk:J},{default:n(()=>[a(ne,null,{default:n(()=>[a(te,{class:"w100",ref_key:"formRef",ref:q,model:s,labelWrap:"",labelCol:{style:{width:"110px"}}},{default:n(()=>[a(d,{label:o(i)("menu.columns.parentMenu"),name:"parentId",rules:f.parentId},{default:n(()=>[a(v,{value:s.parentId,"onUpdate:value":t[0]||(t[0]=u=>s.parentId=u),"show-search":"",style:{width:"100%"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:o(i)("selectTips"),"allow-clear":"","tree-data":C.value,"field-names":{children:"children",label:"menuName",value:"menuId"},"tree-node-filter-prop":"menuName"},null,8,["value","placeholder","tree-data"])]),_:1},8,["label","rules"]),a(d,{label:o(i)("menu.columns.menuType")},{default:n(()=>[a(x,{value:s.menuType,"onUpdate:value":t[1]||(t[1]=u=>s.menuType=u),name:"menuType"},{default:n(()=>[a(I,{value:"M"},{default:n(()=>t[15]||(t[15]=[r("目录")])),_:1}),a(I,{value:"C"},{default:n(()=>t[16]||(t[16]=[r("菜单")])),_:1}),a(I,{value:"F"},{default:n(()=>t[17]||(t[17]=[r("按钮")])),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),s.menuType!="F"?(l(),p(d,{key:0,label:o(i)("menu.columns.menuIcon")},{default:n(()=>[a(ee,{open:T.value,"onUpdate:open":t[3]||(t[3]=u=>T.value=u),placement:"bottom",trigger:"click",onShow:z},{content:n(()=>[a(Te,{style:{width:"540px"},ref_key:"iconSelectRef",ref:R,onSelected:Y,"active-icon":s.icon},null,8,["active-icon"])]),default:n(()=>[a(y,{value:s.icon,"onUpdate:value":t[2]||(t[2]=u=>s.icon=u),placeholder:"点击选择图标",onBlur:z,readonly:""},{prefix:n(()=>[c("div",De,[s.icon?(l(),p(K,{key:0,name:s.icon,style:{height:"16px",width:"16px"}},null,8,["name"])):(l(),p(o(H),{key:1,style:{height:"16px",width:"16px"}}))])]),_:1},8,["value"])]),_:1},8,["open"])]),_:1},8,["label"])):D("",!0),a(d,{label:o(i)("menu.columns.menuName"),name:"menuName",rules:f.menuName},{default:n(()=>[a(y,{allowClear:"",placeholder:o(i)("inputTips"),value:s.menuName,"onUpdate:value":t[4]||(t[4]=u=>s.menuName=u),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label","rules"]),a(d,{label:o(i)("menu.columns.orderNum"),name:"orderNum",rules:f.orderNum},{default:n(()=>[a(se,{value:s.orderNum,"onUpdate:value":t[5]||(t[5]=u=>s.orderNum=u),min:0},null,8,["value"])]),_:1},8,["label","rules"]),s.menuType!="F"?(l(),p(d,{key:1},{label:n(()=>[c("span",null,[a(O,{placement:"top"},{title:n(()=>t[18]||(t[18]=[r("选择是外链则路由地址需要以`http(s)://`开头")])),default:n(()=>[a(o(P),{class:"mr-05"})]),_:1}),r(g(o(i)("menu.columns.isExternalLink")),1)])]),default:n(()=>[a(x,{value:s.isFrame,"onUpdate:value":t[6]||(t[6]=u=>s.isFrame=u),name:"isFrame"},{default:n(()=>[a(I,{value:"0"},{default:n(()=>t[19]||(t[19]=[r("是")])),_:1}),a(I,{value:"1"},{default:n(()=>t[20]||(t[20]=[r("否")])),_:1})]),_:1},8,["value"])]),_:1})):D("",!0),s.menuType!="F"?(l(),p(d,{key:2,name:"path",rules:f.path},{label:n(()=>[c("span",null,[a(O,{placement:"top"},{title:n(()=>t[21]||(t[21]=[r("访问的路由地址，如：`user`，如外网地址需内链访问则以`http(s)://`开头")])),default:n(()=>[a(o(P),{class:"mr-05"})]),_:1}),r(g(o(i)("menu.columns.routerAddress")),1)])]),default:n(()=>[a(y,{allowClear:"",placeholder:o(i)("inputTips"),value:s.path,"onUpdate:value":t[7]||(t[7]=u=>s.path=u),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["rules"])):D("",!0),s.menuType==="C"?(l(),p(d,{key:3},{label:n(()=>[c("span",null,[a(O,{placement:"top"},{title:n(()=>t[22]||(t[22]=[r("访问的组件路径，如：`system/user/index`，默认在`views`目录下")])),default:n(()=>[a(o(P),{class:"mr-05"})]),_:1}),r(g(o(i)("menu.columns.componentPath")),1)])]),default:n(()=>[a(y,{allowClear:"",placeholder:o(i)("inputTips"),value:s.component,"onUpdate:value":t[8]||(t[8]=u=>s.component=u),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1})):D("",!0),s.menuType!="M"?(l(),p(d,{key:4},{label:n(()=>[c("span",null,[a(O,{placement:"top"},{title:n(()=>t[23]||(t[23]=[r("控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasPermi('system:user:list')`)")])),default:n(()=>[a(o(P),{class:"mr-05"})]),_:1}),r(g(o(i)("menu.columns.permissionIdentification")),1)])]),default:n(()=>[a(y,{allowClear:"",placeholder:o(i)("inputTips"),maxlength:100,value:s.perms,"onUpdate:value":t[9]||(t[9]=u=>s.perms=u),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1})):D("",!0),s.menuType==="C"?(l(),p(d,{key:5},{label:n(()=>[c("span",null,[a(O,{placement:"top"},{title:n(()=>t[24]||(t[24]=[r('访问路由的默认传递参数，如：`{"id": 1, "name": "ry"}')])),default:n(()=>[a(o(P),{class:"mr-05"})]),_:1}),r(g(o(i)("menu.columns.routerParams")),1)])]),default:n(()=>[a(y,{allowClear:"",placeholder:o(i)("inputTips"),maxlength:255,value:s.query,"onUpdate:value":t[10]||(t[10]=u=>s.query=u),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1})):D("",!0),s.menuType==="C"?(l(),p(d,{key:6},{label:n(()=>[c("span",null,[a(O,{placement:"top"},{title:n(()=>t[25]||(t[25]=[r("选择是则会被`keep-alive`缓存，需要匹配组件的`name`和地址保持一致")])),default:n(()=>[a(o(P),{class:"mr-05"})]),_:1}),r(g(o(i)("menu.columns.routerParams")),1)])]),default:n(()=>[a(x,{value:s.isCache,"onUpdate:value":t[11]||(t[11]=u=>s.isCache=u),name:"isCache"},{default:n(()=>[a(I,{value:"0"},{default:n(()=>t[26]||(t[26]=[r("缓存")])),_:1}),a(I,{value:"1"},{default:n(()=>t[27]||(t[27]=[r("不缓存")])),_:1})]),_:1},8,["value"])]),_:1})):D("",!0),s.menuType!=="F"?(l(),p(d,{key:7},{label:n(()=>[c("span",null,[a(O,{placement:"top"},{title:n(()=>t[28]||(t[28]=[r("选择隐藏则路由将不会出现在侧边栏，但仍然可以访问")])),default:n(()=>[a(o(P),{class:"mr-05"})]),_:1}),r(g(o(i)("menu.columns.displayState")),1)])]),default:n(()=>[a(x,{value:s.visible,"onUpdate:value":t[12]||(t[12]=u=>s.visible=u)},{default:n(()=>[(l(!0),h(S,null,$(o(A),u=>(l(),p(I,{key:u.value,value:u.value},{default:n(()=>[r(g(u.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})):D("",!0),s.menuType!=="F"?(l(),p(d,{key:8},{label:n(()=>[c("span",null,[a(O,{placement:"top"},{title:n(()=>t[29]||(t[29]=[r("选择停用则路由将不会出现在侧边栏，也不能被访问")])),default:n(()=>[a(o(P),{class:"mr-05"})]),_:1}),r(g(o(i)("menu.columns.menuState")),1)])]),default:n(()=>[a(x,{value:s.status,"onUpdate:value":t[13]||(t[13]=u=>s.status=u)},{default:n(()=>[(l(!0),h(S,null,$(o(L),u=>(l(),p(I,{key:u.value,value:u.value},{default:n(()=>[r(g(u.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})):D("",!0)]),_:1},8,["model"])]),_:1})]),_:1},8,["getContainer","open","title","cancelText","okText"])],512)}}}),ye=G(Oe,[["__scopeId","data-v-0cc79b57"]]);export{ye as default};
