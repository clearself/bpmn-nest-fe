import{r as g,$ as a,_ as S}from"./index-5ec9320a.js";import{d as O,f as U,r as T,h as E,c as F,W as i,X as _,Y as b,Z as u,k as r,u as n,a0 as Y,F as q,a8 as B,G as j,a6 as P}from"./vue-ced722ac.js";import{m as k}from"./antDesign-4a9bc9e2.js";const X=s=>g({method:"GET",url:"/system/config/list",params:s}),Z=s=>g({method:"DELETE",url:`/system/config/${s.id}`}),R=s=>g({method:"POST",url:"/system/config",data:s}),$=s=>g({method:"PUT",url:"/system/config",data:s}),G=O({__name:"formModel",props:{show:{type:Boolean,default:!1},status:{type:String,default:"add"},curData:{type:Object,default:()=>{}},sysYesNo:{type:Array,default:()=>[]}},emits:["update:show","success"],setup(s,{emit:w}){const p=w,l=s,v=U(),e=T({configId:"",configName:"",configKey:"",configValue:"",configType:"Y",remark:""}),N=()=>{e.configId="",e.configName="",e.configKey="",e.configValue="",e.remark="",e.configType="Y"},y=T({configName:[{required:!0,message:a("inputTips"),trigger:"blur"}],configKey:[{required:!0,message:a("inputTips"),trigger:"blur"}],configValue:[{required:!0,message:a("inputTips"),trigger:"blur"}]});E(()=>{l.show&&l.status==="edit"&&(e.configId=l.curData.configId,e.configName=l.curData.configName,e.configKey=l.curData.configKey,e.configValue=l.curData.configValue,e.remark=l.curData.remark,e.configType=l.curData.configType)});const d=F({get(){return l.show},set(f){p("update:show",f)}}),h=()=>{N()},V=async()=>{v.value.validate().then(async()=>{var o;const f={configName:e.configName,configKey:e.configKey,configValue:e.configValue,configType:e.configType,remark:e.remark};if(l.status==="edit"){f.configId=(o=l==null?void 0:l.curData)==null?void 0:o.configId;const c=await $(f);(c==null?void 0:c.code)===200&&(d.value=!1,k.success(a("opeateSuccess")),p("success"))}else{const c=await R(f);(c==null?void 0:c.code)===200&&(d.value=!1,k.success(a("opeateSuccess")),p("success"))}}).catch(f=>{})};return(f,o)=>{const c=i("a-input"),m=i("a-form-item"),x=i("a-radio"),K=i("a-radio-group"),D=i("a-textarea"),C=i("a-form"),M=i("watermark"),I=i("a-modal");return _(),b(I,{destroyOnClose:"",open:d.value,"onUpdate:open":o[5]||(o[5]=t=>d.value=t),title:s.status==="add"?n(a)("opts.add"):n(a)("opts.edit"),width:"500px",cancelText:n(a)("opts.cancel"),okText:n(a)("opts.sure"),afterClose:h,onOk:V},{default:u(()=>[r(M,null,{default:u(()=>[r(C,{class:"w100",ref_key:"formRef",ref:v,model:e,labelWrap:"",labelCol:{style:{width:"110px"}}},{default:u(()=>[r(m,{label:n(a)("config.columns.configName"),name:"configName",rules:y.configName},{default:u(()=>[r(c,{allowClear:"",placeholder:n(a)("inputTips"),value:e.configName,"onUpdate:value":o[0]||(o[0]=t=>e.configName=t),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label","rules"]),r(m,{label:n(a)("config.columns.configKey"),name:"configKey",rules:y.configKey},{default:u(()=>[r(c,{allowClear:"",placeholder:n(a)("inputTips"),value:e.configKey,"onUpdate:value":o[1]||(o[1]=t=>e.configKey=t),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label","rules"]),r(m,{label:n(a)("config.columns.configValue"),name:"configValue",rules:y.configValue},{default:u(()=>[r(c,{allowClear:"",placeholder:n(a)("inputTips"),value:e.configValue,"onUpdate:value":o[2]||(o[2]=t=>e.configValue=t),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label","rules"]),r(m,{label:n(a)("config.columns.configType")},{default:u(()=>[r(K,{value:e.configType,"onUpdate:value":o[3]||(o[3]=t=>e.configType=t),name:"configTypeState"},{default:u(()=>[(_(!0),Y(q,null,B(s.sysYesNo,t=>(_(),b(x,{key:t.value,value:t.value},{default:u(()=>[j(P(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["label"]),r(m,{label:n(a)("config.columns.remark")},{default:u(()=>[r(D,{allowClear:"",placeholder:n(a)("inputTips"),value:e.remark,"onUpdate:value":o[4]||(o[4]=t=>e.remark=t),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1})]),_:1},8,["open","title","cancelText","okText"])}}});const L=S(G,[["__scopeId","data-v-951c7acb"]]),H=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{L as F,Z as d,H as f,X as i};
