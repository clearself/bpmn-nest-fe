import{r as p,$ as a,h as S,d as O}from"./index-CJd2VQGz.js";import{a as T}from"./antDesign-wbdAq9hh.js";import{d as U,f as E,r as b,h as F,c as Y,W as f,X as _,Y as k,Z as u,k as r,u as n,a0 as q,F as B,a7 as $,G as j,a5 as P}from"./vue-CuEiQHfR.js";const Z=s=>p({method:"GET",url:"/system/config/list",params:s}),H=s=>p({method:"DELETE",url:`/system/config/${s.id}`}),R=s=>p({method:"POST",url:"/system/config",data:s}),G=s=>p({method:"PUT",url:"/system/config",data:s}),L=U({__name:"formModel",props:{show:{type:Boolean,default:!1},status:{type:String,default:"add"},curData:{type:Object,default:()=>{}},sysYesNo:{type:Array,default:()=>[]}},emits:["update:show","success"],setup(s,{emit:w}){const g=w,l=s,v=E(),e=b({configId:"",configName:"",configKey:"",configValue:"",configType:"Y",remark:""}),h=()=>{e.configId="",e.configName="",e.configKey="",e.configValue="",e.remark="",e.configType="Y"},y=b({configName:[{required:!0,message:a("inputTips"),trigger:"blur"}],configKey:[{required:!0,message:a("inputTips"),trigger:"blur"}],configValue:[{required:!0,message:a("inputTips"),trigger:"blur"}]});F(()=>{l.show&&l.status==="edit"&&(e.configId=l.curData.configId,e.configName=l.curData.configName,e.configKey=l.curData.configKey,e.configValue=l.curData.configValue,e.remark=l.curData.remark,e.configType=l.curData.configType)});const d=Y({get(){return l.show},set(i){g("update:show",i)}}),N=()=>{h()},V=async()=>{v.value.validate().then(async()=>{var o;const i={configName:e.configName,configKey:e.configKey,configValue:e.configValue,configType:e.configType,remark:e.remark};if(l.status==="edit"){i.configId=(o=l==null?void 0:l.curData)==null?void 0:o.configId;const c=await G(i);(c==null?void 0:c.code)===200&&(d.value=!1,T.success(a("opeateSuccess")),g("success"))}else{const c=await R(i);(c==null?void 0:c.code)===200&&(d.value=!1,T.success(a("opeateSuccess")),g("success"))}}).catch(i=>{})};return(i,o)=>{const c=f("a-input"),m=f("a-form-item"),x=f("a-radio"),K=f("a-radio-group"),D=f("a-textarea"),C=f("a-form"),I=S,M=f("a-modal");return _(),k(M,{destroyOnClose:"",open:d.value,"onUpdate:open":o[5]||(o[5]=t=>d.value=t),title:s.status==="add"?n(a)("opts.add"):n(a)("opts.edit"),width:"500px",cancelText:n(a)("opts.cancel"),okText:n(a)("opts.sure"),afterClose:N,onOk:V},{default:u(()=>[r(I,null,{default:u(()=>[r(C,{class:"w100",ref_key:"formRef",ref:v,model:e,labelWrap:"",labelCol:{style:{width:"110px"}}},{default:u(()=>[r(m,{label:n(a)("config.columns.configName"),name:"configName",rules:y.configName},{default:u(()=>[r(c,{allowClear:"",placeholder:n(a)("inputTips"),value:e.configName,"onUpdate:value":o[0]||(o[0]=t=>e.configName=t),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label","rules"]),r(m,{label:n(a)("config.columns.configKey"),name:"configKey",rules:y.configKey},{default:u(()=>[r(c,{allowClear:"",placeholder:n(a)("inputTips"),value:e.configKey,"onUpdate:value":o[1]||(o[1]=t=>e.configKey=t),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label","rules"]),r(m,{label:n(a)("config.columns.configValue"),name:"configValue",rules:y.configValue},{default:u(()=>[r(c,{allowClear:"",placeholder:n(a)("inputTips"),value:e.configValue,"onUpdate:value":o[2]||(o[2]=t=>e.configValue=t),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label","rules"]),r(m,{label:n(a)("config.columns.configType")},{default:u(()=>[r(K,{value:e.configType,"onUpdate:value":o[3]||(o[3]=t=>e.configType=t),name:"configTypeState"},{default:u(()=>[(_(!0),q(B,null,$(s.sysYesNo,t=>(_(),k(x,{key:t.value,value:t.value},{default:u(()=>[j(P(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["label"]),r(m,{label:n(a)("config.columns.remark")},{default:u(()=>[r(D,{allowClear:"",placeholder:n(a)("inputTips"),value:e.remark,"onUpdate:value":o[4]||(o[4]=t=>e.remark=t),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1})]),_:1},8,["open","title","cancelText","okText"])}}}),W=O(L,[["__scopeId","data-v-951c7acb"]]),J=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"}));export{W as F,H as d,J as f,Z as i};
