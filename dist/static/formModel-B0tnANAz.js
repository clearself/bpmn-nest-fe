import{r as f,$ as t,h as E,d as U}from"./index-CJd2VQGz.js";import{a as k}from"./antDesign-wbdAq9hh.js";import{d as F,f as B,r as y,h as $,c as j,W as m,X as v,Y as w,Z as p,k as n,u as r,a0 as P,F as R,a7 as V,G as q,a5 as G}from"./vue-CuEiQHfR.js";const H=o=>f({method:"GET",url:"/system/post/list",params:o}),J=o=>f({method:"DELETE",url:`/system/post/${o.ids}`,params:o}),L=o=>f({method:"POST",url:"/system/post",data:o}),W=o=>f({method:"PUT",url:"/system/post",data:o}),z=F({__name:"formModel",props:{show:{type:Boolean,default:!1},status:{type:String,default:"add"},curData:{type:Object,default:()=>{}},sysNormalDisable:{type:Array,default:()=>[]}},emits:["update:show","success"],setup(o,{emit:h}){const _=h,l=o,b=B(),e=y({postId:"",postName:"",postCode:"",status:"0",remark:""}),N=()=>{e.postId="",e.postName="",e.postCode="",e.remark="",e.status="0"},C=y({postName:[{required:!0,message:t("inputTips"),trigger:"blur"}],postCode:[{required:!0,message:t("inputTips"),trigger:"blur"}]});$(()=>{l.show&&l.status==="edit"&&(e.postId=l.curData.deptId,e.postName=l.curData.postName,e.postCode=l.curData.postCode,e.remark=l.curData.remark,e.status=l.curData.status)});const c=j({get(){return l.show},set(d){_("update:show",d)}}),T=()=>{N()},g=async()=>{b.value.validate().then(async()=>{var a;const d={postName:e.postName,postCode:e.postCode,remark:e.remark,status:e.status};if(l.status==="edit"){d.postId=(a=l==null?void 0:l.curData)==null?void 0:a.postId;const u=await W(d);(u==null?void 0:u.code)===200&&(c.value=!1,k.success(t("opeateSuccess")),_("success"))}else{const u=await L(d);(u==null?void 0:u.code)===200&&(c.value=!1,k.success(t("opeateSuccess")),_("success"))}}).catch(d=>{})};return(d,a)=>{const u=m("a-input"),i=m("a-form-item"),x=m("a-radio"),D=m("a-radio-group"),I=m("a-textarea"),S=m("a-form"),M=E,O=m("a-modal");return v(),w(O,{destroyOnClose:"",open:c.value,"onUpdate:open":a[4]||(a[4]=s=>c.value=s),title:o.status==="add"?r(t)("opts.add"):r(t)("opts.edit"),width:"500px",cancelText:r(t)("opts.cancel"),okText:r(t)("opts.sure"),afterClose:T,onOk:g},{default:p(()=>[n(M,null,{default:p(()=>[n(S,{class:"w100",ref_key:"formRef",ref:b,model:e,labelWrap:"",labelCol:{style:{width:"110px"}}},{default:p(()=>[n(i,{label:r(t)("post.columns.postName"),name:"postName",rules:C.postName},{default:p(()=>[n(u,{allowClear:"",placeholder:r(t)("inputTips"),value:e.postName,"onUpdate:value":a[0]||(a[0]=s=>e.postName=s),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label","rules"]),n(i,{label:r(t)("post.columns.postCode"),name:"postCode",rules:C.postCode},{default:p(()=>[n(u,{allowClear:"",placeholder:r(t)("inputTips"),value:e.postCode,"onUpdate:value":a[1]||(a[1]=s=>e.postCode=s),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label","rules"]),n(i,{label:r(t)("post.columns.state")},{default:p(()=>[n(D,{value:e.status,"onUpdate:value":a[2]||(a[2]=s=>e.status=s),name:"postState"},{default:p(()=>[(v(!0),P(R,null,V(o.sysNormalDisable,s=>(v(),w(x,{key:s.value,value:s.value},{default:p(()=>[q(G(s.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["label"]),n(i,{label:r(t)("post.columns.remark")},{default:p(()=>[n(I,{allowClear:"",placeholder:r(t)("inputTips"),value:e.remark,"onUpdate:value":a[3]||(a[3]=s=>e.remark=s),valueModifiers:{trim:!0}},null,8,["placeholder","value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1})]),_:1},8,["open","title","cancelText","okText"])}}}),A=U(z,[["__scopeId","data-v-b7b3319e"]]),K=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{A as F,J as d,K as f,H as i};
